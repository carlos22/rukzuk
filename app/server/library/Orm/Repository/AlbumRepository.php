<?php

namespace Orm\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * AlbumRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class AlbumRepository extends EntityRepository
{
  /**
   * @param string $websiteId
   *
   * @return array
   */
  public function findByWebsiteIdAndOrderByName($websiteId)
  {
    $dql = 'SELECT DISTINCT a FROM Orm\\Entity\\Album a'
      . ' WHERE a.websiteid = :websiteId ORDER BY LOWER(a.name)';

    $query = $this->_em->createQuery($dql);
    $query->setParameter('websiteId', $websiteId);
    return $query->getResult();
  }

  /**
   * @param string $websiteId
   * @param string $albumName
   *
   * @return array
   */
  public function findByWebsiteIdAndName($websiteId, $albumName)
  {
    $dql = 'SELECT DISTINCT a FROM Orm\\Entity\\Album a'
      . ' WHERE a.websiteid = :websiteId AND a.name = :albumName ORDER BY LOWER(a.name)';

    $query = $this->_em->createQuery($dql);
    $query->setParameter('websiteId', $websiteId);
    $query->setParameter('albumName', $albumName);
    return $query->getResult();
  }
}
